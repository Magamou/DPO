{"version":3,"sources":["Classes/observable.ts","Classes/observer.ts","app.ts"],"names":[],"mappings":";;;;;;AEAA,IAAA,YAAA,GAAA,OAAA,CAAA,sBAAA,CAAA;AFGA,ACAA,IDAA,ACAA,KAAA,GDAA;AAAA,ACAA,ACFA,IAAA,UAAA,GAAA,OAAA,CAAA,oBAAA,CAAA;AFEA,ACAA,YDAA,ACAA;ADGI,ACCA,ACLJ,IAAM,CAAC,GAAC,GFIJ,ACCA,KAAA,CAAoB,ACLlB,CAAE,CFIJ,CAAoB,CCCpB,ACLI,EDKqC,KDDzC,ACCA,EDDmC,ACC4B,UAA/D,EAAkF;ADDlF,ACCA,ACJA,EAAA,MFGA,ACCA,CCJO,CAAC,GFGR,ACCA,ACJA,CAAY,EFGZ,ACCA,IDDA,ACCA,mBCJA;AACH,CAFD;AFIwB,ACCA,SDDA,ACCA,IAAA,GAAA,CDDA,GAAA,ACCA,QDDA;AAFZ,ACGiC,ACF7C,IAAM,CAAC,GAAC,CFDI,ACGiC,KAAA,GAAA,ACFvC,CFDM,AECJ,GFD0B,AEC1B,CDEqC,CDHjC;AAGJ,ACA2D,ACD/D,EAAA,OFCS,ACAsD,ACDxD,CAAC,GAAR,CAAY,KFCR,ACA2D,GDA3C,ACA2C,QDAnC,CAAC,CCAkC,OCD/D,KFCoB,CAAuB,mBAAvB,CAAhB;AACA,ACJI,ACGX,CAFD,QFGa,ACJD,GAAA,GAAI,IDIR,CAAgB,GCJA,CAAC,CDIjB,GAAsB,KAAK,ICJnB,CAAuB,GDIT,CAAc,CCJ5B,CAAJ,MDIkB,EAAtB;AACA,ACHI,SDGC,ACHD,KAAA,GAAc,EDGlB,CAAgB,CCHZ,eDGJ,CAAiC,QAAjC,EAA2C,UAAC,CAAD,EAAQ;AAC/C,ACFJ,ACAR,IAAI,EFEQ,GCFC,EDEG,AEFL,CFEM,EEFL,CAAZ,IDAQ,CAAgB,GDEZ,CAAiB,CAAC,ICFtB,CDE0B,ACFA,CDEC,GCF3B,ODEsB,CAAgB,KAAlC;AACH,ACFD,ACCR,IDDQ,ACCF,CFDE,MCAO,CAAC,GAAR,CAAY,ECCA,GAAC,IAAI,KDDL,MAAA,CAAc,ACCT,CAAA,IDDc,IAAnB,ACCC,CDDb,ACC0B,EAAb,CAArB;AFEK,ACFG,ACCR,IAAI,GAAG,EDDM,CCCL,IDDA,GAAW,CCCH,CAAC,EDDT,WCCA,CAAuB,MAAvB,CAAR;ADAQ,ACCR,GAAG,CAAC,IDDQ,SAAS,GAAC,ACCtB,CAAqB,ODDS,ACC9B,CDD+B,CCCD,UAAC,CAAD,CDDR,CAAuB,ACCP,kBDDhB,CAAd,CAJ8E,CAK9E;ADCJ,ACAI,ACAJ,EFAA,IEAM,IFAN,CAAA,AEAW,GAAC,IAAI,EFAhB,CAAA,OEAgB,CAAA,CFAhB,GAAA,CEAY,CAAU,QFAZ,AEAY,MAAA,CAAQ,CFA9B,EAA6B,IEAP,CAAV,EAA6B,EAA7B,EAAiC,cAAjC,CAAZ;AFCI,AEAJ,EAAA,OFAS,AEAF,SFAH,CAAe,IAAf,CAAoB,QAApB;AACA,ACDA,ACCP,CAHD,GAIA,KFDa,ACDA,GAAL,CAAS,EAAT,GAAY,KDCZ,ACDiB,IAAjB,CAP8E,CAQ9E;ADEH,AEAL,GFJI;ACGI,ACER,QDFY,KAAK,GAAC,QAAQ,CAAC,aAAT,CAAuB,OAAvB,CAAV;ADEJ,ACDI,ACER,EFDI,ECDI,KAAK,CDCT,ACDU,CDCV,QCDI,CDCJ,CAAA,CCDoB,OAAhB,GDCJ,GAAA,UAAY,QAAZ,EAA8B;AAE1B,ACFA,ACER,IDFQ,KDEK,ACFA,CAAC,IAAN,GAAW,CDEX,GAAe,ICFf,CDEoB,SAAL,CAAe,MAAf,CAAsB,UAAA,GAAA,EAAG;AACpC,ACFJ,ACER,IDFQ,KAAK,CAAC,GDEK,ECFX,CDEc,ECFF,GDEK,ECFA,KAAL,CDER,ACFmB,QAAX,EAAZ;ADGC,ACFD,IAAA,CDAe,CAAf,GCAK,CAAC,gBAAN,CAAuB,QAAvB,EAAiC,UAAC,CAAD,EAAQ;ADGzC,ACFI,ACCZ,IFCQ,ECFI,KDEG,ACFC,CDEA,ACFC,ECCH,CFCN,AEDO,CFCK,ICFR,CAAc,CAAC,KAAK,ACChC,CDDiC,ACCL,CAA5B,EAA+B,CAA/B,CDDY,ECEZ,WFAQ,EAA4C,KAAK,SAAjD;AACH,ACFI,GDJL,ECEI,EAb8E,CAgB9E;;ADEJ,ACDI,EDCJ,MCDQ,EDCR,CAAA,ECDa,GAAC,IDCd,CAAA,GCDsB,CAAC,UDCvB,GAAA,ACDc,CAAuB,IAAvB,CAAV,MDCJ;AAAA,ACAI,IAAA,IDAJ,CCAS,CAAC,GDAV,GAAA,GCAI,CDAJ,ECAoB,KAAK,IAArB,CAlB8E,CAmB9E;;ADAA,ACCA,QAAI,CDDC,KCCK,GAAC,CDDX,CAAe,MCCI,CDDnB,ACCoB,CDDG,UAAA,ECCZ,CAAuB,IDDX,EAAO,ECCnB,CAAX;ADAI,ACCJ,IAAA,EDDI,ICCE,CAAC,EDDI,CAAC,GAAR,CAAY,ECChB,GAAiB,aDDD,ACChB,MDDgB,CAAkB,KAAI,CAAC,QAAvB,CAAZ;AACA,ACCJ,IAAA,EDDI,ICCE,CAAC,EDDI,CAAC,MAAR,CAAe,KAAI,CAAC,ACCxB,CAAwB,ODDpB,ACCJ,EAAiC,UAAC,CAAD,EAAQ;ADAxC,ACEG,KDLJ,KCKO,MAAM,CAAC,SAAP,KAAmB,aAAtB,EAAoC;ADD3C,ACEW,GDPZ,KCOY,MAAM,CAAC,SAAP,GAAiB,WAAjB;;ADDZ,ACEY,EDFZ,MCEY,EDFZ,CAAA,ECEgB,CAAC,MDFjB,CAAA,GCEY,CAAgB,ODF5B,GAAA,CCEY,CAA4B,KAA5B,GDFA,KAAZ,EAAwB;AACpB,SAAK,QAAL,GAAc,KAAd;AACA,ACCQ,QAAA,CDDH,ICCO,CAAC,KAAL,GAAW,CDDnB,ICCQ;ADAX,ACCW,GDJZ,KCIY,KAAI,CAAC,GAAL,CAAS,SAAT,GAAmB,QAAnB;AACH,OALD,MAMI;ADFZ,ACGY,EDHZ,MCGY,EDHZ,CAAA,GCGkB,CAAC,KDHnB,CAAA,GCGY,GAAiB,MDH7B,GAAA,ICGY,MDHC,CAAb,EAA2B,CAA3B,EAAqC;AACjC,IAAA,CAAC;AACD,ACEQ,IDFR,CAAC,GCEO,KAAI,CAAC,UAAL,CAAgB,SAAhB,CAA0B,KAA1B;ADDX,GAHD;ACKY,QAAA,KAAI,CAAC,KAAL,GAAW,IAAX;ADDhB,SAAA,QAAA;AApCA,ACsCgB,CDtChB,EAAA,KCsCgB,KAAI,CAAC,MAAL,CAAY,KAAI,CAAC,IAAjB;AACH;ADvCA,ACwCJ,KAdD,ED1BK,ACIyE,CDJzE,ACyCL,QDzCK,GAAA,QAAA;;AC0CL,SAAK,GAAL,CAAS,WAAT,CAAqB,KAArB;AACA,SAAK,GAAL,CAAS,WAAT,CAAqB,KAArB;AACA,SAAK,GAAL,CAAS,WAAT,CAAqB,MAArB;AACA,IAAA,SAAS,CAAC,WAAV,CAAsB,KAAK,GAA3B;AACH;;AAED,EAAA,KAAA,CAAA,SAAA,CAAA,MAAA,GAAA,UAAO,IAAP,EAAmB;AACf,IAAA,OAAO,CAAC,GAAR,CAAY,cAAA,MAAA,CAAc,KAAK,KAAnB,CAAZ;;AACA,QAAG,KAAK,KAAR,EAAc;AACV,WAAK,IAAL,GAAU,IAAV;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,eAAA,MAAA,CAAe,KAAK,KAApB,EAAyB,GAAzB,EAAyB,MAAzB,CAA6B,KAAK,IAAlC,CAAZ;;AACJ,UAAG,KAAK,IAAL,GAAY,KAAK,KAApB,EAA0B;AACtB,QAAA,OAAO,CAAC,GAAR,CAAY,6BAAZ;AACA,aAAK,GAAL,CAAS,SAAT,GAAmB,IAAnB;AACH,OAHD,MAII;AACA,aAAK,GAAL,CAAS,SAAT,GAAmB,KAAnB;AACH;AACA;AAEJ,GAdD;;AAeA,EAAA,KAAA,CAAA,SAAA,CAAA,QAAA,GAAA,UAAS,KAAT,EAAqB;AACjB,SAAK,KAAL,GAAW,KAAX;AAEA,SAAK,MAAL,CAAY,KAAK,IAAjB;AACH,GAJD;;AAKJ,SAAA,KAAA;AApEA,CAAA,EAAA;;AAAa,OAAA,CAAA,KAAA,GAAA,KAAA","file":"app.c61986b1.js","sourceRoot":"..\\src","sourcesContent":["import {IObserver} from '../Interfaces/IObserver'\r\nimport { ISubject } from '../Interfaces/ISubject' \r\n\r\nexport class Humidity implements ISubject{\r\n    private observers:IObserver[]=[];\r\n    private controller:HTMLInputElement;\r\n    constructor(private humidity:number){\r\n        this.controller=document.querySelector('#humidity-control') as HTMLInputElement;\r\n        this.controller.value=this.humidity.toString();\r\n        this.controller.addEventListener('change', (e:Event)=>{\r\n            this.setHumidity(+this.controller.value);\r\n        })\r\n    }\r\n    subscribe(observer: IObserver) {\r\n        this.observers.push(observer);\r\n        this.notifyObserver();\r\n        \r\n    }\r\n    unsubscribe(observer:IObserver){\r\n        \r\n        this.observers=this.observers.filter(obs =>{\r\n            return obs!==observer;\r\n        })\r\n        console.log(\"Unsubscribe--Observers Array\", this.observers);\r\n    }\r\n    notifyObserver() {\r\n        this.observers.forEach(element => {\r\n            console.log(`this.humidity: ${this.humidity}`)\r\n            element.update(this.humidity);\r\n        });\r\n    }\r\n    setHumidity(value:number){\r\n        this.humidity=value;\r\n        this.notifyObserver();\r\n    }\r\n    testFunction(f: () =>void, g:()=>void){\r\n        f();\r\n        g();\r\n    }\r\n}\r\n","import { IObserver } from \"../Interfaces/IObserver\";\r\nimport { ISubject } from \"../Interfaces/ISubject\";\r\n\r\nexport class Vanne implements IObserver{\r\n    private div=document.createElement('div');\r\n    private data:number;//\r\n    private state:boolean=true;\r\n    constructor(private name:string, private seuil:number, private Observable:ISubject){\r\n        this.Observable.subscribe(this);\r\n        console.log(`this.data: ${this.data}`)\r\n        this.state=true;\r\n        let container=document.querySelector(\"#pompe-container\");\r\n        //div_id=pompe\r\n        // this.div.className=\"off\";\r\n        this.div.id=this.name;\r\n        //input\r\n        let input=document.createElement('input');\r\n        input.className=\"seuil\";\r\n        input.type=\"number\";\r\n        input.value=this.seuil.toString();\r\n        input.addEventListener('change', (e:Event)=>{\r\n            this.setSeuil(+input.value);\r\n        })\r\n        //title h4\r\n        let title=document.createElement('h4');\r\n        title.innerHTML=this.name;\r\n        //button\r\n        let button=document.createElement('button');\r\n        button.innerHTML=\"Unsubscribe\";\r\n        button.addEventListener('click', (e:Event)=>{\r\n            \r\n            if(button.innerHTML===\"Unsubscribe\"){\r\n                button.innerHTML=\"Subscribe\";\r\n                this.Observable.unsubscribe(this);\r\n                this.state=false;\r\n                this.div.className=\"unsubs\";\r\n            }\r\n            else{\r\n                button.innerHTML=\"Unsubscribe\";\r\n                this.Observable.subscribe(this);\r\n                this.state=true;\r\n                this.update(this.data);\r\n            }\r\n        })\r\n        //add element in the div\r\n        this.div.appendChild(input);        \r\n        this.div.appendChild(title);        \r\n        this.div.appendChild(button);        \r\n        container.appendChild(this.div);        \r\n    }\r\n    \r\n    update(data: number) {\r\n        console.log(`this.state:${this.state}`);\r\n        if(this.state){\r\n            this.data=data;\r\n            console.log(`this.seuil: ${this.seuil} ${this.data}`)\r\n        if(this.data < this.seuil){\r\n            console.log(`if(this.data < this.seuil) `);\r\n            this.div.className=\"on\";\r\n        }\r\n        else{\r\n            this.div.className=\"off\";\r\n        }\r\n        }\r\n        \r\n    }\r\n    setSeuil(value:number){\r\n        this.seuil=value;\r\n\r\n        this.update(this.data);\r\n    }\r\n}","import { Humidity } from \"./Classes/observable\";\r\nimport { Vanne } from \"./Classes/observer\";\r\nconst f=()=>{\r\n    console.log(\"Function1 passed in arg\");\r\n}\r\nconst g=()=>{\r\n    console.log(\"Function2 passed in arg\");\r\n}\r\nlet counter=1;\r\n\r\nconst humiditySensor=new Humidity(21);\r\nlet Add=document.querySelector(\"#add\");\r\nAdd.addEventListener('click', (e:Event)=>{\r\n    const vanne=new Vanne(`vanne${counter}`, 30, humiditySensor);\r\n    counter++;\r\n})\r\n// const vanne1=new Vanne(\"vanne1\", 35, humiditySensor);\r\n// const vanne2=new Vanne(\"vanne2\", 20, humiditySensor);\r\n// const vanne3=new Vanne(\"vanne3\", 10, humiditySensor);\r\n// humiditySensor.subscribe(vanne1);\r\n// humiditySensor.subscribe(vanne2);\r\n// humiditySensor.subscribe(vanne3);\r\nhumiditySensor.testFunction(f, g);\r\n// humiditySensor.setHumidity(20);\r\n\r\n\r\n"]}